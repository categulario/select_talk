{"version":3,"sources":["../../src/app.js"],"names":["request","XMLHttpRequest","scheduleData","open","onload","status","initApp","JSON","parse","responseText","console","log","onerror","send","Vue","component","props","computed","progressBarWidth","from_hour","hourToDecimal","from","to_hour","to","cur_hour","hour","value","methods","pieces","split","map","parseInt","p","document","getElementById","className","window","App","el","data","title","schedule","section","left_icon","left_action","currentHour","moment","format","sections","home","subs","now","default_filter","next","today","day1","day2","day3","day4","day5","area1","area2","area3","created","self","setInterval","talksHappeningNow","day","filter","talk","nextTime","marks","find","item","talksHappeningNext","talksToday","talksDay1","talksDay2","talksDay3","talksDay4","talksDay5","talksArea1","area","talksArea2","talksArea3","talksNowClick","changeSection","talksNextClick","scheduleClick","runLeftAction","showPanel","scheduleByDay","event","target","dataset","scheduleByArea","classList","hidePanel","sub"],"mappings":";;AAAA,IAAIA,UAAU,IAAIC,cAAJ,EAAd;AACA,IAAIC,eAAe,EAAnB;;AAEAF,QAAQG,IAAR,CAAa,KAAb,EAAoB,eAApB,EAAqC,IAArC;AACAH,QAAQI,MAAR,GAAiB,YAAM;AACtB,KAAIJ,QAAQK,MAAR,IAAkB,GAAtB,EAA2B;AAC1BC,UAAQC,KAAKC,KAAL,CAAWR,QAAQS,YAAnB,CAAR;AACA,EAFD,MAEO;AACNC,UAAQC,GAAR,CAAY,8BAAZ;AACA;AACD,CAND;AAOAX,QAAQY,OAAR,GAAkB,YAAM;AACvBF,SAAQC,GAAR,CAAY,2BAAZ;AACA,CAFD;AAGAX,QAAQa,IAAR;;AAEA;AACAC,IAAIC,SAAJ,CAAc,eAAd,EAA+B;AAC9BC,QAAO,CACN,MADM,EAEN,IAFM,EAGN,MAHM,CADuB;;AAO9BC,WAAU;AACTC,oBAAkB,4BAAY;AAC7B,OAAIC,YAAY,KAAKC,aAAL,CAAmB,KAAKC,IAAxB,CAAhB;AACA,OAAIC,UAAU,KAAKF,aAAL,CAAmB,KAAKG,EAAxB,CAAd;AACA,OAAIC,WAAW,KAAKJ,aAAL,CAAmB,KAAKK,IAAxB,CAAf;AACA,OAAIC,QAAQ,CAACF,WAAWL,SAAZ,KAAwBG,UAAUH,SAAlC,IAA6C,GAAzD;;AAEA,OAAIO,QAAQ,CAAZ,EAAe;AACd,WAAO,IAAP;AACA,IAFD,MAEO,IAAIA,QAAQ,GAAZ,EAAiB;AACvB,WAAO,MAAP;AACA,IAFM,MAEA;AACN,WAAUA,KAAV;AACA;AACD;AAdQ,EAPoB;;AAwB9BC,UAAS;AACRP,iBAAe,uBAAUK,IAAV,EAAgB;AAC9B,OAAIG,SAASH,KAAKI,KAAL,CAAW,GAAX,EAAgBC,GAAhB,CAAoB;AAAA,WAAKC,SAASC,CAAT,CAAL;AAAA,IAApB,CAAb;;AAEA,UAAOJ,OAAO,CAAP,IAAYA,OAAO,CAAP,IAAU,EAA7B;AACA;AALO;AAxBqB,CAA/B;;AAiCA,SAAStB,OAAT,CAAiBJ,YAAjB,EAA+B;AAC9B+B,UAASC,cAAT,CAAwB,QAAxB,EAAkCC,SAAlC,GAA8C,KAA9C;;AAEAC,QAAOC,GAAP,GAAa,IAAIvB,GAAJ,CAAQ;AACpBwB,MAAI,MADgB;;AAGpBC,QAAM;AACLC,UAAO,mBADF;AAELC,aAAUvC,YAFL;AAGLwC,YAAS,MAHJ;AAILC,cAAW,SAJN;AAKLC,gBAAa,IALR;AAMLC,gBAAaC,SAASC,MAAT,CAAgB,OAAhB,CANR;AAOLC,aAAU;AACTC,UAAM;AACLT,YAAO,mBADF;AAELG,gBAAW,SAFN;AAGLC,kBAAa;AAHR,KADG;AAMTH,cAAU;AACTD,YAAO,SADE;AAETG,gBAAW,eAFF;AAGTC,kBAAa,MAHJ;;AAKTM,WAAM;AACLC,WAAK;AACJX,cAAO,eADH;AAEJY,uBAAgB;AAFZ,OADA;AAKLC,YAAM;AACLb,cAAO,oBADF;AAELY,uBAAgB;AAFX,OALD;AASLE,aAAO;AACNd,cAAO,cADD;AAENY,uBAAgB;AAFV,OATF;;AAcL;AACAG,YAAM,EAAEf,OAAO,gBAAT,EAA2BY,gBAAgB,WAA3C,EAfD;AAgBLI,YAAM,EAAEhB,OAAO,iBAAT,EAA4BY,gBAAgB,WAA5C,EAhBD;AAiBLK,YAAM,EAAEjB,OAAO,oBAAT,EAA+BY,gBAAgB,WAA/C,EAjBD;AAkBLM,YAAM,EAAElB,OAAO,iBAAT,EAA4BY,gBAAgB,WAA5C,EAlBD;AAmBLO,YAAM,EAAEnB,OAAO,kBAAT,EAA6BY,gBAAgB,WAA7C,EAnBD;;AAqBL;AACAQ,aAAO,EAAEpB,OAAO,QAAT,EAAmBY,gBAAgB,YAAnC,EAtBF;AAuBLS,aAAO,EAAErB,OAAO,WAAT,EAAsBY,gBAAgB,YAAtC,EAvBF;AAwBLU,aAAO,EAAEtB,OAAO,mBAAT,EAA8BY,gBAAgB,YAA9C;AAxBF;AALG;AAND;AAPL,GAHc;;AAmDpBW,WAAS,mBAAY;AACpB,OAAIC,OAAO,IAAX;;AAEAC,eAAY,YAAY;AACvBD,SAAKnB,WAAL,GAAmBC,SAASC,MAAT,CAAgB,OAAhB,CAAnB;AACA,IAFD,EAEG,IAFH;AAGA,GAzDmB;;AA2DpB9B,YAAU;AACTiD,sBAAmB,6BAAY;AAC9B,QAAIf,MAAM,KAAKN,WAAf;AACA,QAAIsB,MAAMrB,SAASC,MAAT,CAAgB,GAAhB,CAAV;;AAEA,WAAO,KAAKN,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD,EAAU;AAC9C,YAAOA,KAAKF,GAAL,IAAYA,GAAZ,IAAmBE,KAAKhD,IAAL,IAAa8B,GAAhC,IAAuCkB,KAAK9C,EAAL,GAAU4B,GAAxD;AACA,KAFM,CAAP;AAGA,IARQ;;AAUTmB,aAAU,oBAAY;AACrB,QAAInB,MAAM,KAAKN,WAAf;;AAEA,WAAO,KAAKJ,QAAL,CAAc8B,KAAd,CAAoBC,IAApB,CAAyB;AAAA,YAAQC,OAAOtB,GAAf;AAAA,KAAzB,CAAP;AACA,IAdQ;;AAgBTuB,uBAAoB,8BAAY;AAC/B,QAAIP,MAAMrB,SAASC,MAAT,CAAgB,GAAhB,CAAV;AACA,QAAIuB,WAAW,KAAKA,QAApB;;AAEA,WAAO,KAAK7B,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD,EAAU;AAC9C,YAAOA,KAAKF,GAAL,IAAYA,GAAZ,IAAmBE,KAAKhD,IAAL,IAAaiD,QAAhC,IAA4CD,KAAK9C,EAAL,GAAU+C,QAA7D;AACA,KAFM,CAAP;AAGA,IAvBQ;;AAyBTK,eAAY,sBAAY;AACvB,QAAIR,MAAMrB,SAASC,MAAT,CAAgB,GAAhB,CAAV;;AAEA,WAAO,KAAKN,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD,EAAU;AAC9C,YAAOA,KAAKF,GAAL,IAAYA,GAAnB;AACA,KAFM,CAAP;AAGA,IA/BQ;;AAiCT;AACAS,cAAW,qBAAY;AAAE,WAAO,KAAKnC,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD;AAAA,YAAUA,KAAKF,GAAL,IAAY,GAAtB;AAAA,KAA9B,CAAP;AAAiE,IAlCjF;AAmCTU,cAAW,qBAAY;AAAE,WAAO,KAAKpC,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD;AAAA,YAAUA,KAAKF,GAAL,IAAY,GAAtB;AAAA,KAA9B,CAAP;AAAiE,IAnCjF;AAoCTW,cAAW,qBAAY;AAAE,WAAO,KAAKrC,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD;AAAA,YAAUA,KAAKF,GAAL,IAAY,GAAtB;AAAA,KAA9B,CAAP;AAAiE,IApCjF;AAqCTY,cAAW,qBAAY;AAAE,WAAO,KAAKtC,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD;AAAA,YAAUA,KAAKF,GAAL,IAAY,GAAtB;AAAA,KAA9B,CAAP;AAAiE,IArCjF;AAsCTa,cAAW,qBAAY;AAAE,WAAO,KAAKvC,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD;AAAA,YAAUA,KAAKF,GAAL,IAAY,GAAtB;AAAA,KAA9B,CAAP;AAAiE,IAtCjF;;AAwCT;AACAc,eAAY,sBAAY;AAAE,WAAO,KAAKxC,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD;AAAA,YAAUA,KAAKa,IAAL,IAAa,QAAvB;AAAA,KAA9B,CAAP;AAAuE,IAzCxF;AA0CTC,eAAY,sBAAY;AAAE,WAAO,KAAK1C,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD;AAAA,YAAUA,KAAKa,IAAL,IAAa,WAAvB;AAAA,KAA9B,CAAP;AAA0E,IA1C3F;AA2CTE,eAAY,sBAAY;AAAE,WAAO,KAAK3C,QAAL,CAAcA,QAAd,CAAuB2B,MAAvB,CAA8B,UAACC,IAAD;AAAA,YAAUA,KAAKa,IAAL,IAAa,aAAvB;AAAA,KAA9B,CAAP;AAA4E;AA3C7F,GA3DU;;AAyGpBvD,WAAS;AACR0D,kBAAe,yBAAY;AAC1B,SAAKC,aAAL,CAAmB,UAAnB,EAA+B,KAA/B;AACA,IAHO;;AAKRC,mBAAgB,0BAAY;AAC3B,SAAKD,aAAL,CAAmB,UAAnB,EAA+B,MAA/B;AACA,IAPO;;AASRE,kBAAe,yBAAY;AAC1B,SAAKF,aAAL,CAAmB,UAAnB,EAA+B,OAA/B;AACA,IAXO;;AAaRG,kBAAe,yBAAY;AAC1B,QAAI,KAAK7C,WAAL,KAAqB,IAAzB,EAA+B;AAC9B,UAAK8C,SAAL;AACA;AACA;;AAED,SAAKJ,aAAL,CAAmB,KAAK1C,WAAxB;AACA,IApBO;;AAsBR+C,kBAAe,uBAAUC,KAAV,EAAiB;AAC/B,QAAIzB,MAAMyB,MAAMC,MAAN,CAAaC,OAAb,CAAqB3B,GAA/B;;AAEA,SAAKmB,aAAL,CAAmB,UAAnB,UAAqCnB,GAArC;AACA,IA1BO;;AA4BR4B,mBAAgB,wBAAUH,KAAV,EAAiB;AAChC,QAAIV,OAAOU,MAAMC,MAAN,CAAaC,OAAb,CAAqBZ,IAAhC;;AAEA,SAAKI,aAAL,CAAmB,UAAnB,WAAsCJ,IAAtC;AACA,IAhCO;;AAkCRQ,cAAW,qBAAY;AACtBzD,aAASC,cAAT,CAAwB,YAAxB,EAAsC8D,SAAtC,GAAkD,EAAlD;AACA/D,aAASC,cAAT,CAAwB,SAAxB,EAAmC8D,SAAnC,GAA+C,EAA/C;AACA,IArCO;;AAuCRC,cAAW,qBAAY;AACtBhE,aAASC,cAAT,CAAwB,YAAxB,EAAsCC,SAAtC,GAAkD,KAAlD;AACAF,aAASC,cAAT,CAAwB,SAAxB,EAAmCC,SAAnC,GAA+C,KAA/C;AACA,IA1CO;;AA4CRmD,kBAAe,uBAAU5C,OAAV,EAAmBwD,GAAnB,EAAwB;AACtC,SAAKD,SAAL;;AAEA,SAAKvD,OAAL,GAAeA,OAAf;AACA,SAAKF,KAAL,GAAa,KAAKQ,QAAL,CAAcN,OAAd,EAAuBF,KAApC;AACA,SAAKG,SAAL,GAAiB,KAAKK,QAAL,CAAcN,OAAd,EAAuBC,SAAxC;AACA,SAAKC,WAAL,GAAmB,KAAKI,QAAL,CAAcN,OAAd,EAAuBE,WAA1C;;AAEA,QAAI,KAAKI,QAAL,CAAcN,OAAd,EAAuBQ,IAAvB,IAA+BgD,GAAnC,EAAwC;AACvC,UAAK1D,KAAL,GAAa,KAAKQ,QAAL,CAAcN,OAAd,EAAuBQ,IAAvB,CAA4BgD,GAA5B,EAAiC1D,KAA9C;AACA,UAAKY,cAAL,GAAsB,KAAKJ,QAAL,CAAcN,OAAd,EAAuBQ,IAAvB,CAA4BgD,GAA5B,EAAiC9C,cAAvD;AACA;AACD;AAxDO;AAzGW,EAAR,CAAb;AAoKA","file":"app.js","sourcesContent":["var request = new XMLHttpRequest();\nvar scheduleData = [];\n\nrequest.open('GET', 'schedule.json', true);\nrequest.onload = () => {\n\tif (request.status == 200) {\n\t\tinitApp(JSON.parse(request.responseText));\n\t} else {\n\t\tconsole.log('failed loading schedule data');\n\t}\n};\nrequest.onerror = () => {\n\tconsole.log('server error or something');\n};\nrequest.send();\n\n// the progress bar component\nVue.component('item-progress', {\n\tprops: [\n\t\t'from',\n\t\t'to',\n\t\t'hour',\n\t],\n\n\tcomputed: {\n\t\tprogressBarWidth: function () {\n\t\t\tvar from_hour = this.hourToDecimal(this.from);\n\t\t\tvar to_hour = this.hourToDecimal(this.to);\n\t\t\tvar cur_hour = this.hourToDecimal(this.hour);\n\t\t\tvar value = (cur_hour - from_hour)/(to_hour - from_hour)*100;\n\n\t\t\tif (value < 0) {\n\t\t\t\treturn '0%';\n\t\t\t} else if (value > 100) {\n\t\t\t\treturn '100%';\n\t\t\t} else {\n\t\t\t\treturn `${value}%`;\n\t\t\t}\n\t\t},\n\t},\n\n\tmethods: {\n\t\thourToDecimal: function (hour) {\n\t\t\tvar pieces = hour.split(':').map(p => parseInt(p));\n\n\t\t\treturn pieces[0] + pieces[1]/60;\n\t\t},\n\t}\n});\n\nfunction initApp(scheduleData) {\n\tdocument.getElementById('loader').className = 'off';\n\n\twindow.App = new Vue({\n\t\tel: '#app',\n\n\t\tdata: {\n\t\t\ttitle: 'Encuentra charlas',\n\t\t\tschedule: scheduleData,\n\t\t\tsection: 'home',\n\t\t\tleft_icon: 'fa-bars',\n\t\t\tleft_action: null,\n\t\t\tcurrentHour: moment().format('HH:mm'),\n\t\t\tsections: {\n\t\t\t\thome: {\n\t\t\t\t\ttitle: 'Encuentra charlas',\n\t\t\t\t\tleft_icon: 'fa-bars',\n\t\t\t\t\tleft_action: null,\n\t\t\t\t},\n\t\t\t\tschedule: {\n\t\t\t\t\ttitle: 'Charlas',\n\t\t\t\t\tleft_icon: 'fa-arrow-left',\n\t\t\t\t\tleft_action: 'home',\n\n\t\t\t\t\tsubs: {\n\t\t\t\t\t\tnow: {\n\t\t\t\t\t\t\ttitle: 'Charlas ahora',\n\t\t\t\t\t\t\tdefault_filter: 'talksHappeningNow',\n\t\t\t\t\t\t},\n\t\t\t\t\t\tnext: {\n\t\t\t\t\t\t\ttitle: 'Charlas siguientes',\n\t\t\t\t\t\t\tdefault_filter: 'talksHappeningNext',\n\t\t\t\t\t\t},\n\t\t\t\t\t\ttoday: {\n\t\t\t\t\t\t\ttitle: 'Programa hoy',\n\t\t\t\t\t\t\tdefault_filter: 'talksToday',\n\t\t\t\t\t\t},\n\n\t\t\t\t\t\t// Routes by day\n\t\t\t\t\t\tday1: { title: 'Programa Lunes', default_filter: 'talksDay1' },\n\t\t\t\t\t\tday2: { title: 'Programa Martes', default_filter: 'talksDay2' },\n\t\t\t\t\t\tday3: { title: 'Programa Mi√©rcoles', default_filter: 'talksDay3' },\n\t\t\t\t\t\tday4: { title: 'Programa Jueves', default_filter: 'talksDay4' },\n\t\t\t\t\t\tday5: { title: 'Programa Viernes', default_filter: 'talksDay5' },\n\n\t\t\t\t\t\t// Routes by area\n\t\t\t\t\t\tarea1: { title: 'Cursos', default_filter: 'talksArea1' },\n\t\t\t\t\t\tarea2: { title: 'Ponencias', default_filter: 'talksArea2' },\n\t\t\t\t\t\tarea3: { title: 'Reportes de tesis', default_filter: 'talksArea3' },\n\t\t\t\t\t},\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\n\t\tcreated: function () {\n\t\t\tvar self = this;\n\n\t\t\tsetInterval(function () {\n\t\t\t\tself.currentHour = moment().format('HH:mm');\n\t\t\t}, 2000);\n\t\t},\n\n\t\tcomputed: {\n\t\t\ttalksHappeningNow: function () {\n\t\t\t\tvar now = this.currentHour;\n\t\t\t\tvar day = moment().format('d');\n\n\t\t\t\treturn this.schedule.schedule.filter((talk) => {\n\t\t\t\t\treturn talk.day == day && talk.from <= now && talk.to > now;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tnextTime: function () {\n\t\t\t\tvar now = this.currentHour;\n\n\t\t\t\treturn this.schedule.marks.find(item => item > now);\n\t\t\t},\n\n\t\t\ttalksHappeningNext: function () {\n\t\t\t\tvar day = moment().format('d');\n\t\t\t\tvar nextTime = this.nextTime;\n\n\t\t\t\treturn this.schedule.schedule.filter((talk) => {\n\t\t\t\t\treturn talk.day == day && talk.from <= nextTime && talk.to > nextTime;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\ttalksToday: function () {\n\t\t\t\tvar day = moment().format('d');\n\n\t\t\t\treturn this.schedule.schedule.filter((talk) => {\n\t\t\t\t\treturn talk.day == day;\n\t\t\t\t});\n\t\t\t},\n\n\t\t\t// filters by day\n\t\t\ttalksDay1: function () { return this.schedule.schedule.filter((talk) => talk.day == '1') },\n\t\t\ttalksDay2: function () { return this.schedule.schedule.filter((talk) => talk.day == '2') },\n\t\t\ttalksDay3: function () { return this.schedule.schedule.filter((talk) => talk.day == '3') },\n\t\t\ttalksDay4: function () { return this.schedule.schedule.filter((talk) => talk.day == '4') },\n\t\t\ttalksDay5: function () { return this.schedule.schedule.filter((talk) => talk.day == '5') },\n\n\t\t\t// filters by area\n\t\t\ttalksArea1: function () { return this.schedule.schedule.filter((talk) => talk.area == 'Cursos') },\n\t\t\ttalksArea2: function () { return this.schedule.schedule.filter((talk) => talk.area == 'Ponencias') },\n\t\t\ttalksArea3: function () { return this.schedule.schedule.filter((talk) => talk.area == 'R. de tesis') },\n\t\t},\n\n\t\tmethods: {\n\t\t\ttalksNowClick: function () {\n\t\t\t\tthis.changeSection('schedule', 'now');\n\t\t\t},\n\n\t\t\ttalksNextClick: function () {\n\t\t\t\tthis.changeSection('schedule', 'next');\n\t\t\t},\n\n\t\t\tscheduleClick: function () {\n\t\t\t\tthis.changeSection('schedule', 'today');\n\t\t\t},\n\n\t\t\trunLeftAction: function () {\n\t\t\t\tif (this.left_action === null) {\n\t\t\t\t\tthis.showPanel();\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tthis.changeSection(this.left_action);\n\t\t\t},\n\n\t\t\tscheduleByDay: function (event) {\n\t\t\t\tvar day = event.target.dataset.day;\n\n\t\t\t\tthis.changeSection('schedule', `day${day}`);\n\t\t\t},\n\n\t\t\tscheduleByArea: function (event) {\n\t\t\t\tvar area = event.target.dataset.area;\n\n\t\t\t\tthis.changeSection('schedule', `area${area}`);\n\t\t\t},\n\n\t\t\tshowPanel: function () {\n\t\t\t\tdocument.getElementById('left-panel').classList = [];\n\t\t\t\tdocument.getElementById('overlay').classList = [];\n\t\t\t},\n\n\t\t\thidePanel: function () {\n\t\t\t\tdocument.getElementById('left-panel').className = \"off\";\n\t\t\t\tdocument.getElementById('overlay').className = \"off\";\n\t\t\t},\n\n\t\t\tchangeSection: function (section, sub) {\n\t\t\t\tthis.hidePanel();\n\n\t\t\t\tthis.section = section;\n\t\t\t\tthis.title = this.sections[section].title;\n\t\t\t\tthis.left_icon = this.sections[section].left_icon;\n\t\t\t\tthis.left_action = this.sections[section].left_action;\n\n\t\t\t\tif (this.sections[section].subs && sub) {\n\t\t\t\t\tthis.title = this.sections[section].subs[sub].title;\n\t\t\t\t\tthis.default_filter = this.sections[section].subs[sub].default_filter;\n\t\t\t\t}\n\t\t\t},\n\t\t},\n\t});\n}\n"]}